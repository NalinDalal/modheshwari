### ============================================
### CORE DATABASE & AUTHENTICATION
### ============================================

# PostgreSQL Database URL
DATABASE_URL=postgresql://user:password@localhost:5432/modheshwari

# JWT Secret for token signing (generate with: bunx node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
JWT_SECRET=replace_with_a_secure_random_hex

# Application URLs
APP_URL=http://localhost:3000
API_URL=http://localhost:3001
WS_URL=http://localhost:8080

### ============================================
### CACHING & IN-MEMORY STORAGE
### ============================================

# Redis for distributed caching, sessions, and Pub/Sub
# Used for: rate limiting, search cache, WebSocket clustering, notification broadcasting
REDIS_URL=redis://localhost:6379

### ============================================
### KAFKA / MESSAGE QUEUE
### ============================================

# Kafka Configuration (for async notification delivery)
KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=modheshwari-client
KAFKA_GROUP_ID=modheshwari-consumers

# Notification Topics
KAFKA_TOPIC_NOTIFICATIONS=notification.events
KAFKA_TOPIC_EMAIL=notification.email
KAFKA_TOPIC_PUSH=notification.push
KAFKA_TOPIC_SMS=notification.sms

# Worker Type: which notifications to process
# Options: all (process all), router (route to channels), email, push, sms
CONSUMER_TYPE=all

### ============================================
### EMAIL NOTIFICATIONS
### ============================================

# Email Provider (choose one: smtp, sendgrid, ses)
EMAIL_PROVIDER=smtp

# --- SMTP Configuration (Gmail, Outlook, etc.) ---
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SEND_FROM_EMAIL=noreply@modheshwari.com

# --- SendGrid Configuration ---
# EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=your-sendgrid-api-key

# --- AWS SES Configuration ---
# EMAIL_PROVIDER=ses
AWS_REGION=us-east-1
AWS_SES_ENDPOINT=email.us-east-1.amazonaws.com

### ============================================
### PUSH NOTIFICATIONS
### ============================================

# Firebase Cloud Messaging (FCM) for push notifications
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_PRIVATE_KEY=your-firebase-private-key
FIREBASE_CLIENT_EMAIL=your-firebase-client-email@appspot.gserviceaccount.com

### ============================================
### SMS NOTIFICATIONS (Optional/Future)
### ============================================

# Twilio Configuration
# TWILIO_ACCOUNT_SID=your-account-sid
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

### ============================================
### AWS S3 STORAGE
### ============================================

# S3 for storing profile pictures, event passes, documents
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=modheshwari-uploads
AWS_S3_REGION=us-east-1

### ============================================
### PAYMENT GATEWAYS
### ============================================

# Razorpay (for India - recommended)
RAZORPAY_KEY_ID=your-razorpay-key
RAZORPAY_KEY_SECRET=your-razorpay-secret

# Stripe (alternative)
# STRIPE_SECRET_KEY=your-stripe-secret
# STRIPE_PUBLISHABLE_KEY=your-stripe-publishable

# PayPal (alternative)
# PAYPAL_CLIENT_ID=your-client-id
# PAYPAL_CLIENT_SECRET=your-secret

### ============================================
### WEBSOCKET SERVER
### ============================================

# WebSocket server configuration (apps/ws)
WS_PORT=8080
WS_HOST=localhost

# WebSocket authentication
WS_SECRET=your-ws-jwt-secret
WS_JWT_EXPIRY=7d

# Enable CORS for WebSocket
WS_CORS_ORIGIN=http://localhost:3000

### ============================================
### GEOSPATIAL SERVICES
### ============================================

# PostGIS/Location services already configured in PostgreSQL
# Nearby user search uses: ST_Distance, ST_DWithin (built-in PostgreSQL functions)
LOCATION_SERVICE_RADIUS_DEFAULT=5
LOCATION_SERVICE_RADIUS_MAX=100

### ============================================
### RATE LIMITING & SECURITY
### ============================================

# Global Rate Limiting (requests per window)
RATE_LIMIT_LOGIN_MAX=5
RATE_LIMIT_LOGIN_WINDOW=60000  # 1 minute

RATE_LIMIT_SIGNUP_MAX=5
RATE_LIMIT_SIGNUP_WINDOW=300000  # 5 minutes

RATE_LIMIT_SEARCH_MAX=30
RATE_LIMIT_SEARCH_WINDOW=60000  # 1 minute

RATE_LIMIT_RESOURCE_CREATE_MAX=5
RATE_LIMIT_RESOURCE_CREATE_WINDOW=300000  # 5 minutes

# CORS Configuration
CORS_ORIGIN=http://localhost:3000,http://localhost:3001

### ============================================
### MONITORING & LOGGING
### ============================================

# Sentry for error tracking (optional)
# SENTRY_DSN=your-sentry-dsn

# Log Level
LOG_LEVEL=info  # options: debug, info, warn, error

### ============================================
### DEPLOYMENT
### ============================================

# Environment
NODE_ENV=development  # development, staging, production

# Docker & Container Settings
DOCKER_IMAGE_TAG=latest
CONTAINER_PORT=3001

# Database Backups
DB_BACKUP_FREQUENCY=daily  # daily, weekly
DB_BACKUP_RETENTION_DAYS=30